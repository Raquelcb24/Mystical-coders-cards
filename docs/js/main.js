console.log(">> Ready :)");console.log("working var");const h=document.querySelector(".js_form"),d=document.querySelector(".js_name"),u=document.querySelector(".js_job"),L=document.querySelector(".js_email"),v=document.querySelector(".js_phone"),g=document.querySelector(".js_linkedin"),y=document.querySelector(".js_github"),o=document.querySelector(".js_preview-card"),j=document.querySelector(".js_button-reset"),S=document.querySelector(".js_radio__check"),p=document.querySelector(".js-create-card"),c=document.querySelector(".js-twitterLink"),s={palette:"1",name:"",job:"",phone:"",email:"",linkedin:"",github:"",photo:""},b=t=>{t.preventDefault();const e=t.target.id,r=t.target.value,n=t.target.name;console.log("working input"),s[n]=r,e==="name"?d.innerHTML=r:e==="job"?u.innerHTML=r:e==="email"?L.href="mailto:"+r:e==="phone"?v.href="tel:"+r:e==="linkedin"?g.href=r:e==="github"?y.href=r:n==="palette"&&(r==="2"&&(o.classList.add("palette2"),o.classList.remove("palette1"),o.classList.remove("palette3")),r==="3"&&(o.classList.add("palette3"),o.classList.remove("palette1"),o.classList.remove("palette2")),r==="1"&&(o.classList.add("palette1"),o.classList.remove("palette3"),o.classList.remove("palette2"))),console.log(s)};h.addEventListener("input",b);const q=t=>{t.preventDefault(),c.classList.remove("hidden")};p.addEventListener("click",q);function w(t){t.preventDefault();const r=document.querySelector(".js-fill").querySelectorAll("input");o.classList.add("palette1"),o.classList.remove("palette3"),o.classList.remove("palette2"),c.classList.add("hidden");for(const n of r)n.value="",s[n.id]="",d.innerHTML="Nombre Apellido",u.innerHTML="Front-end developer",m.style.backgroundImage="",f.style.backgroundImage="url(../images/profile.jpg)";S.checked=!0,console.log(s)}j.addEventListener("click",w);const l=new FileReader,k=document.querySelector(".js__profile-upload-btn"),m=document.querySelector(".js__profile-image"),f=document.querySelector(".js__profile-preview");function _(t){const e=t.currentTarget.files[0];l.addEventListener("load",T),l.readAsDataURL(e)}function T(){m.style.backgroundImage=`url(${l.result})`,f.style.backgroundImage=`url(${l.result})`,s.photo=l.result}k.addEventListener("change",_);const C=document.querySelectorAll(".js_collapsable"),I=document.querySelectorAll(".js_parent"),E=t=>{const r=t.currentTarget.parentNode;for(const n of I)n===r?n.classList.remove("js-collapsable"):n.classList.add("js-collapsable")};for(const t of C)t.addEventListener("click",E);const H=document.querySelector(".js-share-twitter"),a=document.querySelector(".js-share-link"),i=document.querySelector(".js-error"),M=t=>{t.preventDefault(),fetch("https://dev.adalab.es/api/card/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}).then(e=>e.json()).then(e=>{if(console.log(e),e.success){c.classList.remove("hidden"),a.innerHTML=e.cardURL,a.href=e.cardURL;const n=`https://twitter.com/intent/tweet?text=${encodeURIComponent("¡Mira mi tarjeta creada con esta increíble aplicación!")}&url=${e.cardURL}`;H.href=n}else i.classList.remove("hidden"),i.innerHTML=e.error})};p.addEventListener("click",M);
//# sourceMappingURL=main.js.map
