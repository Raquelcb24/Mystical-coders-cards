console.log(">> Ready :)");console.log("working var");const g=document.querySelector(".js_form"),f=document.querySelector(".js_name"),h=document.querySelector(".js_job"),y=document.querySelector(".js_email"),j=document.querySelector(".js_phone"),S=document.querySelector(".js_linkedin"),b=document.querySelector(".js_github"),o=document.querySelector(".js_preview-card"),w=document.querySelector(".js_button-reset"),q=document.querySelector(".js_radio__check"),c=document.querySelector(".js-create-card"),i=document.querySelector(".js-twitterLink"),d=document.querySelector(".js-form-validation-email"),u=document.querySelector(".js-form-validation-tlf"),n={palette:"1",name:"",job:"",phone:"",email:"",linkedin:"",github:"",photo:""},k=r=>{r.preventDefault();const e=r.target.id,t=r.target.value,s=r.target.name;if(console.log("working input"),n[s]=t,e==="name")f.innerHTML=t;else if(e==="job")h.innerHTML=t;else if(e==="email"){const a=/^[\w-]+(?:\.[\w-]+)*@(?:[\w-]+\.)+[a-zA-Z]{2,7}$/;t.match(a)?(d.classList.add("hidden"),y.href="mailto:"+t):d.classList.remove("hidden")}else if(e==="phone"){const a=/^(\+?\d{1,3})?[-. ]?\(?\d{3}\)?[-. ]?\d{3}[-. ]?\d{4}$/;t.match(a)?(u.classList.add("hidden"),j.href="tel:"+t):u.classList.remove("hidden")}else e==="linkedin"?S.href=t:e==="github"?b.href=t:s==="palette"&&(t==="2"&&(o.classList.add("palette2"),o.classList.remove("palette1"),o.classList.remove("palette3")),t==="3"&&(o.classList.add("palette3"),o.classList.remove("palette1"),o.classList.remove("palette2")),t==="1"&&(o.classList.add("palette1"),o.classList.remove("palette3"),o.classList.remove("palette2")));console.log(n),localStorage.setItem("userData",JSON.stringify(n))};g.addEventListener("input",k);const _=r=>{r.preventDefault(),i.classList.remove("hidden"),c.classList.add("btn-off")};c.addEventListener("click",_);function T(r){r.preventDefault();const t=document.querySelector(".js-fill").querySelectorAll("input");o.classList.add("palette1"),o.classList.remove("palette3"),o.classList.remove("palette2"),i.classList.add("hidden");for(const s of t)s.value="",n[s.id]="",f.innerHTML="Nombre Apellido",h.innerHTML="Front-end developer",L.style.backgroundImage="",v.style.backgroundImage="url(../images/profile2.jpg)";q.checked=!0,console.log(n)}w.addEventListener("click",T);const l=new FileReader,I=document.querySelector(".js__profile-upload-btn"),L=document.querySelector(".js__profile-image"),v=document.querySelector(".js__profile-preview");function C(r){const e=r.currentTarget.files[0];l.addEventListener("load",E),l.readAsDataURL(e)}function E(){L.style.backgroundImage=`url(${l.result})`,v.style.backgroundImage=`url(${l.result})`,n.photo=l.result}I.addEventListener("change",C);const H=document.querySelectorAll(".js_collapsable"),A=document.querySelectorAll(".js_parent"),M=r=>{const t=r.currentTarget.parentNode;for(const s of A)s===t?s.classList.remove("js-collapsable"):s.classList.add("js-collapsable")};for(const r of H)r.addEventListener("click",M);const D=document.querySelector(".js-share-twitter"),m=document.querySelector(".js-share-link"),p=document.querySelector(".js-error"),P=r=>{r.preventDefault(),fetch("https://dev.adalab.es/api/card/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then(e=>e.json()).then(e=>{if(console.log(e),e.success){i.classList.remove("hidden"),m.innerHTML=e.cardURL,m.href=e.cardURL;const s=`https://twitter.com/intent/tweet?text=${encodeURIComponent("¡Mira mi tarjeta creada con esta increíble aplicación!")}&url=${e.cardURL}`;D.href=s}else p.classList.remove("hidden"),p.innerHTML="Asegúrate de haber rellenado todos los campos"})};c.addEventListener("click",P);
//# sourceMappingURL=main.js.map
